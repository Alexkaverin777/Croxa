const mainCards = [

	{
		id: 0,
		count: 1,
		img: './img/img-card.png',
		title: 'Костюм для девочки',
		currentPrise: '599 грн',
		prise: '719',
		discount: '',
		btnWatch: 'Смотреть',
		btnBasket: 'В корзину'
	},

	{
		id: 1,
		count: 1,
		img: './img/img-card2.png',
		title: 'Яркая куртка',
		currentPrise: '999 грн',
		discount: '',
		prise: '',
		btnWatch: 'Смотреть',
		btnBasket: 'В корзину'
	},

	{
		id: 2,
		count: 1,
		img: './img/img-card3.png',
		title: 'Платье с длинным рукавом',
		currentPrise: '699 грн',
		discount: '',
		prise: '',
		btnWatch: 'Смотреть',
		btnBasket: 'В корзину'
	},

	{
		id: 3,
		count: 1,
		img: './img/img-card4.png',
		title: 'Платье с цветочным узором',
		currentPrise: '899 грн',
		discount: '',
		prise: '719',
		btnWatch: 'Смотреть',
		btnBasket: 'В корзину'
	},

];

const maiWrapper = document.getElementById('main-wrapper');
//главный контейнер
const mainSections = document.getElementById('main-sections');


const generationsFooter = () => {
	const footer = `<footer class="footer">
        <div class="container">

            <div class="footer__wrapper">
                <div class="footer__box-logo">
                    <a href="./index.html" class="footer__logo">
                        <img src="./img/logo-footer.png" alt="Logo">
                    </a>
                </div>

                <div class="footer__content">
                    <p>
                        Руководитель организации: генеральный директор
                        Давыдова Мария Сергеевна. Юридический адрес
                        ПАО "Детский Мир" - 119415, город Москва, проспект
                        Вернадского, 37-3.
                        Организации ПУБЛИЧНОЕ АКЦИОНЕРНОЕ ОБЩЕСТВО
                        "ДЕТСКИЙ МИР" присвоены ИНН 7729355029,
                        ОГРН 1027700047100, ОКПО 47568073.
                    </p>
                </div>

                <ul class="footer__social">
                    <li class="footer__item">
                        <a href="#" class="footer__link">
                            <?xml version="1.0" encoding="iso-8859-1"?>
                            <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                                 xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 474.294 474.294" style="enable-background:new 0 0 474.294 474.294;"
                                 xml:space="preserve">
<circle style="fill:#3A5A98;" cx="237.111" cy="236.966" r="236.966"/>
                                <path style="fill:#345387;" d="M404.742,69.754c92.541,92.541,92.545,242.586-0.004,335.134
\tc-92.545,92.541-242.593,92.541-335.134,0L404.742,69.754z"/>
                                <path style="fill:#2E4D72;" d="M472.543,263.656L301.129,92.238l-88.998,88.998l5.302,5.302l-50.671,50.667l41.474,41.474
\tl-5.455,5.452l44.901,44.901l-51.764,51.764l88.429,88.429C384.065,449.045,461.037,366.255,472.543,263.656z"/>
                                <path style="fill:#FFFFFF;" d="M195.682,148.937c0,7.27,0,39.741,0,39.741h-29.115v48.598h29.115v144.402h59.808V237.276h40.134
\tc0,0,3.76-23.307,5.579-48.781c-5.224,0-45.485,0-45.485,0s0-28.276,0-33.231c0-4.962,6.518-11.641,12.965-11.641
\tc6.436,0,20.015,0,32.587,0c0-6.623,0-29.481,0-50.592c-16.786,0-35.883,0-44.306,0C194.201,93.028,195.682,141.671,195.682,148.937
\tz"/>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
</svg>

                        </a>
                    </li>
                    <li class="footer__item">
                        <a href="#" class="footer__link">
                            <?xml version="1.0" encoding="iso-8859-1"?>
                            <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 551.034 551.034" style="enable-background:new 0 0 551.034 551.034;" xml:space="preserve">
<g id="XMLID_13_">

\t\t<linearGradient id="XMLID_2_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.5714" x2="275.517" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)">
\t\t<stop  offset="0" style="stop-color:#E09B3D"/>
            <stop  offset="0.3" style="stop-color:#C74C4D"/>
            <stop  offset="0.6" style="stop-color:#C21975"/>
            <stop  offset="1" style="stop-color:#7024C4"/>
\t</linearGradient>
    <path id="XMLID_17_" style="fill:url(#XMLID_2_);" d="M386.878,0H164.156C73.64,0,0,73.64,0,164.156v222.722
\t\tc0,90.516,73.64,164.156,164.156,164.156h222.722c90.516,0,164.156-73.64,164.156-164.156V164.156
\t\tC551.033,73.64,477.393,0,386.878,0z M495.6,386.878c0,60.045-48.677,108.722-108.722,108.722H164.156
\t\tc-60.045,0-108.722-48.677-108.722-108.722V164.156c0-60.046,48.677-108.722,108.722-108.722h222.722
\t\tc60.045,0,108.722,48.676,108.722,108.722L495.6,386.878L495.6,386.878z"/>

    <linearGradient id="XMLID_3_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.5714" x2="275.517" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)">
\t\t<stop  offset="0" style="stop-color:#E09B3D"/>
        <stop  offset="0.3" style="stop-color:#C74C4D"/>
        <stop  offset="0.6" style="stop-color:#C21975"/>
        <stop  offset="1" style="stop-color:#7024C4"/>
\t</linearGradient>
    <path id="XMLID_81_" style="fill:url(#XMLID_3_);" d="M275.517,133C196.933,133,133,196.933,133,275.516
\t\ts63.933,142.517,142.517,142.517S418.034,354.1,418.034,275.516S354.101,133,275.517,133z M275.517,362.6
\t\tc-48.095,0-87.083-38.988-87.083-87.083s38.989-87.083,87.083-87.083c48.095,0,87.083,38.988,87.083,87.083
\t\tC362.6,323.611,323.611,362.6,275.517,362.6z"/>

    <linearGradient id="XMLID_4_" gradientUnits="userSpaceOnUse" x1="418.306" y1="4.5714" x2="418.306" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)">
\t\t<stop  offset="0" style="stop-color:#E09B3D"/>
        <stop  offset="0.3" style="stop-color:#C74C4D"/>
        <stop  offset="0.6" style="stop-color:#C21975"/>
        <stop  offset="1" style="stop-color:#7024C4"/>
\t</linearGradient>
    <circle id="XMLID_83_" style="fill:url(#XMLID_4_);" cx="418.306" cy="134.072" r="34.149"/>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
</svg>

                        </a>
                    </li>
                    <li class="footer__item">
                        <a href="#" class="footer__link">
                            <?xml version="1.0" encoding="iso-8859-1"?>
                            <!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
<circle style="fill:#47B0D3;" cx="256" cy="256" r="256"/>
                                <path style="fill:#3298BA;" d="M34.133,256c0-135.648,105.508-246.636,238.933-255.421C267.424,0.208,261.737,0,256,0
\tC114.615,0,0,114.615,0,256s114.615,256,256,256c5.737,0,11.424-0.208,17.067-0.579C139.642,502.636,34.133,391.648,34.133,256z"/>
                                <path style="fill:#E5E5E5;" d="M380.263,109.054c-2.486-1.69-5.676-1.946-8.399-0.679L96.777,236.433
\tc-4.833,2.251-7.887,7.172-7.766,12.501c0.117,5.226,3.28,9.92,8.065,12.015l253.613,110.457c8.468,3.849,18.439-2.21,18.983-11.453
\tl14.314-243.341C384.161,113.614,382.748,110.742,380.263,109.054z"/>
                                <polygon style="fill:#CCCCCC;" points="171.631,293.421 188.772,408 379.168,108.432 "/>
                                <path style="fill:#FFFFFF;" d="M371.866,108.375L96.777,236.433c-4.737,2.205-7.826,7.121-7.769,12.345
\tc0.058,5.233,3.276,10.074,8.067,12.171l74.557,32.471l207.536-184.988C376.882,107.33,374.203,107.287,371.866,108.375z"/>
                                <polygon style="fill:#E5E5E5;" points="211.418,310.749 188.772,408 379.168,108.432 "/>
                                <path style="fill:#FFFFFF;" d="M380.263,109.054c-0.351-0.239-0.72-0.442-1.095-0.622l-167.75,202.317l139.27,60.657
\tc8.468,3.849,18.439-2.21,18.983-11.453l14.314-243.341C384.161,113.614,382.748,110.742,380.263,109.054z"/>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
                                <g>
</g>
</svg>

                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </footer>`;
	maiWrapper.insertAdjacentHTML('beforeend', footer);
};
const generationsHeader = () => {
	const header = `<header class="header">
        <div class="navigations">
            <div class="container">
                <div class="navigations__wrapper">
                        <ul class="navigations__list">
                            <li class="navigations__item">
                                <a href="#" class="navigations__link">Оплата и доставка</a>
                            </li>
                            <li class="navigations__item">
                                <a href="#" class="navigations__link">Отзывы</a>
                            </li>
                        </ul>
						<div class="navigations__box-logo">
                            <a href="./index.html" class="navigations__logo">
                                <img src="./img/logo-header.png" alt="Кроха">
                            </a>

                        </div>
                    <button class="navigations__basket">
                    	<span class="navigations__basket-counter">0</span>
                        <img src="./img/backet.png" alt="Корзина">
                    </button>
                </div>
            </div>
        </div>
    </header>`
	maiWrapper.insertAdjacentHTML('afterbegin', header)
};
const generationMainContent = arr => {
	window.localStorage.clear();
	let carsHtml = '';
	for (let key of arr) {
		const {id, img, title, currentPrise, prise, discount, btnWatch, btnBasket} = key;
		carsHtml += `<li class="list-card__item" data-id = ${id}>
                            <div class="list-card__header" >
                                <span class="list-card__discount">${discount}</span>
                                <img class="list-card__img" src="${img}" alt="${title}">
                            </div>
                            <div class="list-card__main">
                                <h4 class="list-card__title">
                                    ${title}
                                </h4>
                                <span class="list-card__prise">${currentPrise}</span>
                                <span class="list-card__prise-none">${prise}</span>
                                <div class="list-card__box-btn">
                                    <button class="list-card__btn list-card__btn--watch">${btnWatch}</button>
                                    <button class="list-card__btn list-card__btn--basket">${btnBasket}</button>
                                </div>
                            </div>
                        </li>`;
	}

	const mainMenu = `<section class="main-menu">
        <div class="container">
            <ul class="main-menu__menu-list">
                <li class="main-menu__menu-item">
                    <a href="#" class="main-menu__menu-link">Одежда</a>
                </li>
                <li class="main-menu__menu-item">
                    <a href="#" class="main-menu__menu-link">Обувь</a>
                </li>
                <li class="main-menu__menu-item">
                    <a href="#" class="main-menu__menu-link">Аксессуары</a>
                </li>
                <li class="main-menu__menu-item">
                    <a href="#" class="main-menu__menu-link">Скидки</a>
                </li>
            </ul>
        </div>
    </section>`;
	const sectionImg = `<section class="section-img">
            <div class="container">
                <img src="./img/img-header.png" alt="">
            </div>
        </section>`;
	const mainCards = `<section class="cards">
            <div class="container">
                <div class="cards__box">
                    <h2 class="cards__title">Акции</h2>
                    <ul class="list-card">
						${carsHtml}
                    </ul>
                </div>
            </div>
        </section>`;

	mainSections.insertAdjacentHTML('afterbegin', mainCards);
	mainSections.insertAdjacentHTML('afterbegin', sectionImg);
	mainSections.insertAdjacentHTML('afterbegin', mainMenu);
};
generationsHeader();
generationMainContent(mainCards);
generationsFooter();


const $cardBasketBtnAll = document.querySelectorAll('.list-card__btn');
const $basketCounter = document.querySelector('.navigations__basket-counter');
//кнопка корзины
const $basketBtn = document.querySelector('.navigations__basket');

let counterBasket = +$basketCounter.textContent;
const basterCardArr = [];

$cardBasketBtnAll.forEach(card => {
	card.onclick = function (e) {
		$basketCounter.style.display = 'block';
		$basketCounter.textContent = ++counterBasket;

		const card = e.target.closest('.list-card__item').getAttribute('data-id');

		basterCardArr.push(mainCards[card]);

		const resultBasketCard = JSON.stringify(basterCardArr);

		window.localStorage.setItem('cards', resultBasketCard);

	}

});
console.log($basketBtn)
$basketBtn.onclick = function (e) {
	mainSections.innerHTML = '';
	const cards = JSON.parse(localStorage.getItem('cards'));
	if (!cards){
		mainSections.innerHTML = `<h2>Корзина пустая</h2>`;
		return
	}

	let htmlItemCard = '';

	for (let key of cards) {
		const {id, img, title, currentPrise, prise, discount, btnWatch, btnBasket} = key;
		htmlItemCard += ` <li class="basket-cards__item" data-id="${id}">
                    <img src="${img}" alt="${title}">
                    <div class="basket-cards__title">${title}</div>
                    <div class="basket-cards__price">${prise}</div>
                    <button class="basket-cards__delete">x</button>
                </li>`
	}

	const htmlBasket = `    <section class="basket-cards">
        <div class="container">
            <ul class="basket-cards__list">
               ${htmlItemCard}
            </ul>
        </div>
    </section>`

	mainSections.insertAdjacentHTML('afterbegin', htmlBasket);

};
